!function(t){function e(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var r={};e.m=t,e.c=r,e.i=function(t){return t},e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=25)}([function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.mapboxgl,r=arguments[2],o=document.createElement("div");o.classList.add("map","container"),document.body.appendChild(o),e.accessToken="pk.eyJ1Ijoic2NhcnlzaXplIiwiYSI6ImNpcjR2ZWs4ODAwNDZoc25xMmRzM2JlcnQifQ.XmRVjMqDm9jUWw3eMYrrUw";var a=new e.Map(n({container:o,center:[0,0],zoom:1,style:"mapbox://styles/mapbox/dark-v9"},r));a.on("load",function(){return t(a)})}},function(t,e,r){"use strict";function n(t,e,r){var n=t.northeast.longitude,o=t.southwest.latitude,a=t.southwest.longitude,u=t.northeast.latitude;return[Math.abs(a-n)/r,Math.abs(u-o)/e]}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n},function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(){return{type:"FeatureCollection",features:arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]}}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),u=r(7),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(u),l=r(9),c=function(t){return t&&t.__esModule?t:{default:t}}(l),f={},s=function(){function t(){n(this,t)}return a(t,[{key:"queryData",value:function(t,e){var r=this,n=e.bbox,a=e.bounds,u=e.samplingFactor,i=e.zoom,l=t.map(function(t){var e=t.url,n=t.weatherParameter;return r._executeQuery(e,n)});return Promise.all(l).then(function(t){return(0,c.default)({grid:t,bbox:n},{bounds:a,zoom:i},u)}).then(o)}},{key:"_executeQuery",value:function(t,e){var r=this;return new Promise(function(n,o){r._fetchData(t).then(i.imageToBitmap).then(function(t){return{data:i.imageDataToPixels(t),height:t.height,width:t.width,weatherParameter:e}}).then(n).catch(function(t){return o(t)})})}},{key:"_fetchData",value:function(t){return f[t]?Promise.resolve(f[t]):new Promise(function(e,r){var n=new Image;n.crossOrigin="anonymous",n.addEventListener("error",r),n.addEventListener("load",function(){f[t]=n,e(n)}),n.src=t})}}]),t}();e.default=s},,,function(t,e,r){(function(e){function r(t,e,r){function n(e){var r=p,n=g;return p=g=void 0,O=e,m=t.apply(n,r)}function a(t){return O=t,b=setTimeout(f,e),_?n(t):m}function u(t){var r=t-w,n=t-O,o=e-r;return P?j(o,y-n):o}function c(t){var r=t-w,n=t-O;return void 0===w||r>=e||r<0||P&&n>=y}function f(){var t=x();if(c(t))return s(t);b=setTimeout(f,u(t))}function s(t){return b=void 0,T&&p?n(t):(p=g=void 0,m)}function h(){void 0!==b&&clearTimeout(b),O=0,p=w=g=b=void 0}function d(){return void 0===b?m:s(x())}function v(){var t=x(),r=c(t);if(p=arguments,g=this,w=t,r){if(void 0===b)return a(w);if(P)return b=setTimeout(f,e),n(w)}return void 0===b&&(b=setTimeout(f,e)),m}var p,g,y,m,b,w,O=0,_=!1,P=!1,T=!0;if("function"!=typeof t)throw new TypeError(l);return e=i(e)||0,o(r)&&(_=!!r.leading,P="maxWait"in r,y=P?M(i(r.maxWait)||0,e):y,T="trailing"in r?!!r.trailing:T),v.cancel=h,v.flush=d,v}function n(t,e,n){var a=!0,u=!0;if("function"!=typeof t)throw new TypeError(l);return o(n)&&(a="leading"in n?!!n.leading:a,u="trailing"in n?!!n.trailing:u),r(t,e,{leading:a,maxWait:e,trailing:u})}function o(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function a(t){return!!t&&"object"==typeof t}function u(t){return"symbol"==typeof t||a(t)&&w.call(t)==f}function i(t){if("number"==typeof t)return t;if(u(t))return c;if(o(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=o(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(s,"");var r=d.test(t);return r||v.test(t)?p(t.slice(2),r?2:8):h.test(t)?c:+t}var l="Expected a function",c=NaN,f="[object Symbol]",s=/^\s+|\s+$/g,h=/^[-+]0x[0-9a-f]+$/i,d=/^0b[01]+$/i,v=/^0o[0-7]+$/i,p=parseInt,g="object"==typeof e&&e&&e.Object===Object&&e,y="object"==typeof self&&self&&self.Object===Object&&self,m=g||y||Function("return this")(),b=Object.prototype,w=b.toString,M=Math.max,j=Math.min,x=function(){return m.Date.now()};t.exports=n}).call(e,r(11))},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}function a(t,e,r,n){var o={lng:t.northeast.longitude,lat:t.southwest.latitude},a={lng:e.northeast.lng,lat:e.southwest.lat},u=(0,s.inLng)(o,e),i=(0,s.inLat)(o,e),c=(0,f.default)(t,r,n),h=l(c,2),d=h[0],v=h[1],p=Math.abs(o.lng-a.lng),g=Math.abs(o.lat-a.lat),y=n,m=r;return u||(y-=Math.floor(p/d)),i||(m-=Math.floor(g/v)),[y,m]}function u(t,e,r,n){var o={lng:t.southwest.longitude,lat:t.northeast.latitude},a={lng:e.southwest.lng,lat:e.northeast.lat},u=(0,s.inLng)(o,e),i=(0,s.inLat)(o,e),c=(0,f.default)(t,r,n),h=l(c,2),d=h[0],v=h[1],p=Math.abs(o.lng-a.lng),g=Math.abs(o.lat-a.lat),y=0,m=0;return u||(y=Math.floor(p/d)),i||(m=Math.floor(g/v)),[y,m]}function i(t,e,r,n){if(Math.abs(e.southwest.lng-e.northeast.lng)>=360)return[0,0,n,r];var i=(0,d.default)(e);return[].concat(o(u(t,i,r,n)),o(a(t,i,r,n)))}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){var r=[],n=!0,o=!1,a=void 0;try{for(var u,i=t[Symbol.iterator]();!(n=(u=i.next()).done)&&(r.push(u.value),!e||r.length!==e);n=!0);}catch(t){o=!0,a=t}finally{try{!n&&i.return&&i.return()}finally{if(o)throw a}}return r}return function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();e.getPixelExtent=a,e.getPixelOrigins=u,e.default=i;var c=r(1),f=n(c),s=r(8),h=r(10),d=n(h)},function(t,e,r){"use strict";function n(t){var e=document.createElement("canvas");e.height=t.height,e.width=t.width;var r=e.getContext("2d");return r.drawImage(t,0,0),r.getImageData(0,0,t.width,t.height)}function o(t){return Promise.resolve(n(t))}function a(t){for(var e=t.data,r=t.height,n=t.width,o=new Uint8Array(r*n),a=0,u=e.length;a<u;a+=4)o[a/4]=e[a];return o}Object.defineProperty(e,"__esModule",{value:!0}),e.imageToBitmap=o,e.imageDataToPixels=a},function(t,e,r){"use strict";function n(t,e){var r=e.southwest,n=e.northeast;return t.lat>r.lat&&t.lat<n.lat}function o(t,e){var r=e.southwest,n=e.northeast,o=t.lng<n.lng,a=t.lng>r.lng,u=o&&a;return n.lng<r.lng&&(u=o||a),u}function a(t,e){return n(t,e)&&o(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.inLat=n,e.inLng=o,e.default=a},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}function a(t,e,r,n){var o=Math.pow(2,Math.floor(r)),a=Math.floor(1/(o*n)*e),u=Math.floor(1/(o*n)*t);return[Math.max(a,1),Math.max(u,1)]}function u(t,e){var r={};return t.forEach(function(t){var n=t.data[e];r[t.weatherParameter]=n}),{weatherParameters:r}}function i(t,e){return{type:"Feature",geometry:{type:"Point",coordinates:t},properties:e}}function l(t,e,r){var n,l=t.bbox,f=t.grid,h=e.bounds,v=e.zoom,p=f.map(function(t){for(var e=t.height,n=t.width,o=(0,d.default)(l,e,n),p=c(o,2),g=p[0],y=p[1],m=a(e,n,v,r),b=c(m,2),w=b[0],M=b[1],j=(0,s.default)(l,h,e,n),x=c(j,4),O=x[0],_=x[1],P=x[2],T=x[3],A=O-O%w,E=_-_%M,D=[],L=E;L<T;L+=M)for(var I=A;I<P;I+=w){var S=l.northeast.latitude-L*y,k=l.southwest.longitude+I*g,z=u(f,I+L*n);D.push(i([k,S],z))}return D});return(n=[]).concat.apply(n,o(p))}Object.defineProperty(e,"__esModule",{value:!0});var c=function(){function t(t,e){var r=[],n=!0,o=!1,a=void 0;try{for(var u,i=t[Symbol.iterator]();!(n=(u=i.next()).done)&&(r.push(u.value),!e||r.length!==e);n=!0);}catch(t){o=!0,a=t}finally{try{!n&&i.return&&i.return()}finally{if(o)throw a}}return r}return function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();e.default=l;var f=r(6),s=n(f),h=r(1),d=n(h)},function(t,e,r){"use strict";function n(t){var e=new mapboxgl.LngLat(t.lng,t.lat).wrap();return{lat:e.lat,lng:e.lng}}function o(t){return{northeast:a({},n(t.northeast)),southwest:a({},n(t.southwest))}}Object.defineProperty(e,"__esModule",{value:!0});var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};e.default=o},function(t,e){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(r=window)}t.exports=r},,,,,,,,,,,,,,function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t){var e=t.getSouthWest(),r=t.getNorthEast();return{southwest:{lng:e.lng,lat:e.lat},northeast:{lng:r.lng,lat:r.lat}}}function a(t){var e=new c.default;t.addSource("circle-source",{type:"geojson",data:{type:"FeatureCollection",features:[]}}),t.addLayer({type:"circle",source:"circle-source",id:"circle-layer",paint:{"circle-color":{type:"identity",property:"color"}}});var r=(0,s.default)(function(){var r={bbox:h,bounds:o(t.getBounds()),samplingFactor:15,zoom:Math.floor(t.getZoom())};e.queryData(d,r).then(function(e){for(var r=0;r<e.features.length;r++){var n=e.features[r],o=n.properties.weatherParameters,a=o.u,u=o.v,i=Math.floor(Math.sqrt(Math.pow(a,2)+Math.pow(u,2))),l=i/222*360;n.properties.color="hsla("+(360-l)+", 100%, 50%, 1)"}t.getSource("circle-source").setData(e)})},100);t.on("move",r)}var u=r(0),i=n(u),l=r(2),c=n(l),f=r(5),s=n(f);(0,i.default)(a);var h={northeast:{latitude:90,longitude:180},southwest:{latitude:-90,longitude:-180}},d=[{url:"static/u-component.png",weatherParameter:"u"},{url:"static/v-component.png",weatherParameter:"v"}]}]);