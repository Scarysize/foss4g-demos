!function(e){function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}var t={};r.m=e,r.c=t,r.i=function(e){return e},r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},r.p="",r(r.s=25)}({25:function(e,r,t){"use strict";function n(e){if(Array.isArray(e)){for(var r=0,t=Array(e.length);r<e.length;r++)t[r]=e[r];return t}return Array.from(e)}function a(e){return function(){var r=e.apply(this,arguments);return new Promise(function(e,t){function n(a,i){try{var s=r[a](i),u=s.value}catch(e){return void t(e)}if(!s.done)return Promise.resolve(u).then(function(e){n("next",e)},function(e){n("throw",e)});e(u)}return n("next")})}}function i(e){var r=[],t=!0,n=!1,a=void 0;try{for(var i,s=e.parameters[Symbol.iterator]();!(t=(i=s.next()).done);t=!0){var u=i.value,c=document.createElement("div");c.classList.add("source");var o=document.createElement("div");o.classList.add("source__source-name"),o.textContent="Source: "+e.id;var l=document.createElement("div");l.classList.add("source__parameter-name"),l.textContent="Parameter: "+u.id;var p=document.createElement("div");p.classList.add("source__tile-url"),p.textContent="Tile Url: "+u.tileUrl;var d=document.createElement("img");d.classList.add("source__tile"),d.src=u.tileUrl.replace(/\{.\}/g,"0"),c.appendChild(o),c.appendChild(l),c.appendChild(p),c.appendChild(d),r.push(c)}}catch(e){n=!0,a=e}finally{try{!t&&s.return&&s.return()}finally{if(n)throw a}}return r}var s=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},u=function(){var e=a(regeneratorRuntime.mark(function e(r){var t,n,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Headers,n=btoa("ubilabs:jlerIOOg84kbdvjnKHK7"),t.set("Authorization","Basic "+n),t.set("Content-Type","application/json"),e.next=6,fetch("http://localhost:1337/"+r,{headers:t});case 6:if(a=e.sent,a.ok){e.next=10;break}return console.error(a.statusText),e.abrupt("return",null);case 10:return e.next=12,a.json();case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}},e,this)}));return function(r){return e.apply(this,arguments)}}(),c=function(){var e=a(regeneratorRuntime.mark(function e(){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u("victorimaps-raster-service.weather.mg/v1/weatherparameter");case 2:return r=e.sent,e.abrupt("return",r.weatherParameterSources.filter(function(e){return e.tags.includes("RADAR")&&e.tags.includes("FORECAST")}).map(function(e){return{id:e.weatherParameterSourceId,parameters:e.weatherParameters.map(function(e){return e.weatherParameterId})}}));case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),o=function(){var e=a(regeneratorRuntime.mark(function e(r){var t,n,a,i,c,o,l,p,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=s({},r,{parameters:[]}),n=!0,a=!1,i=void 0,e.prev=4,c=r.parameters[Symbol.iterator]();case 6:if(n=(o=c.next()).done){e.next=18;break}return l=o.value,p=encodeURI("victorimaps-raster-service.weather.mg/v1/forecast-issue/latest?weatherParameterSourceId="+r.id+"&weatherParameterId="+l),e.next=11,u(p);case 11:if((d=e.sent)&&d.timeseries&&d.timeseries.length){e.next=14;break}return e.abrupt("continue",15);case 14:t.parameters.push({id:l,tileUrl:d.timeseries[d.timeseries.length-1].tileUrl});case 15:n=!0,e.next=6;break;case 18:e.next=24;break;case 20:e.prev=20,e.t0=e.catch(4),a=!0,i=e.t0;case 24:e.prev=24,e.prev=25,!n&&c.return&&c.return();case 27:if(e.prev=27,!a){e.next=30;break}throw i;case 30:return e.finish(27);case 31:return e.finish(24);case 32:return e.abrupt("return",t);case 33:case"end":return e.stop()}},e,this,[[4,20,24,32],[25,,27,31]])}));return function(r){return e.apply(this,arguments)}}(),l=function(){var e=a(regeneratorRuntime.mark(function e(){var r,t,a,s,u,l,p,d,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c();case 2:r=e.sent,t=[],a=!0,s=!1,u=void 0,e.prev=7,l=r[Symbol.iterator]();case 9:if(a=(p=l.next()).done){e.next=19;break}return d=p.value,e.t0=t,e.next=14,o(d);case 14:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 16:a=!0,e.next=9;break;case 19:e.next=25;break;case 21:e.prev=21,e.t2=e.catch(7),s=!0,u=e.t2;case 25:e.prev=25,e.prev=26,!a&&l.return&&l.return();case 28:if(e.prev=28,!s){e.next=31;break}throw u;case 31:return e.finish(28);case 32:return e.finish(25);case 33:f=document.createElement("div"),f.classList.add("tile-list"),document.body.appendChild(f),t.map(i).reduce(function(e,r){return[].concat(n(e),n(r))},[]).forEach(function(e){return f.appendChild(e)});case 37:case"end":return e.stop()}},e,this,[[7,21,25,33],[26,,28,32]])}));return function(){return e.apply(this,arguments)}}();document.body.classList.add("tile-preview"),l()}});